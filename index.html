<!DOCTYPE html>
<html>
    <head>
        <title>Invasive Species</title>

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
        integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
        crossorigin=""/>

        <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
        integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
        crossorigin=""></script>

        <script type="text/javascript" src="95.js"></script>
        <script type="text/javascript" src="'13.js"></script>
        <script type="text/javascript" src="'02.js"></script>
        <script type="text/javascript" src="'08.js"></script>
        


        <style type="text/css">
        html, body { margin: 0; padding: 0; height: 100%; }
        #map { min-height: 100%; }


        /* Optional: adjust the values below to change the appearance of the legend */
  .legend {
      padding: 6px 8px;
      line-height: 18px;
      background: rgba(255,255,255,0.9);
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      border-radius: 5px;
  }

   /* Optional: adjust the values below to change the appearance of the legend color boxes */
   .legend i {
      width: 18px;
      height: 18px;
      float: left;
      margin-right: 8px;
      opacity: 0.7;
  }
        </style>

    </head>

    <body>
        <h4 style="color:slateblue;" align="center">This map represents the changing numbers over a 28 year period of invaisve species found in the Great Lakes.</h4> 
        
        
        <div id="map"></div>

        <script type="text/javascript">

          var map = L.map('map', {
              center: [43.59,-84.76],
              zoom: 5.7

    });

         var canvas = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
           attribution: 'Map data © OpenStreetMap contributors, CC-BY-SA, Imagery © Mapbox',
           maxZoom: 15,
           minZoom: 2,
           id: 'mapbox.outdoors',
           accessToken: 'pk.eyJ1IjoiYWNhcmRvbmExMCIsImEiOiJjamxoOHZmMHIwMWRlM3ZveGVpMTNmcWd5In0.HtD59DhTVqtr4vRcUPa4xQ'
         }).addTo(map);



        var imagery = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Map data © OpenStreetMap contributors, CC-BY-SA, Imagery © Mapbox',
            maxZoom: 15,
            minZoom: 2,
            id: 'mapbox.satellite',
            accessToken:'pk.eyJ1IjoiY3VyZW1hbmdvIiwiYSI6ImNpcTQ4cGFwbDAxbmVmd25vZGNiOTVzeGEifQ.GWZByYkIft6eMRha69C8nw'
 });

function getColor(value) {
    return value > 1995 ? '#08519c':
           value > 2002 ? '#3182bd':
           value > 2008  ? '#6baed6':
           value > 2013  ? '#bdd7e7':
                               '#eff3ff';
}

    function style(feature){
            return {
            fillColor: getColor(feature.properties.Year),   // pop_den is the field name for the population density data
            weight: 1,
            opacity: 1,
            color: 'gray',
            fillOpacity: 0.9
            
    };
}       
            
                  
            
   function highlightFeature(e) {
    // Get access to the feature that was hovered through e.target
    var feature = e.target;

    // Set a thick white border on the feature as mouseover effect
    // Adjust the values below to change the highlighting styles of features on mouseover
    // Check out https://leafletjs.com/reference-1.3.4.html#path for more options for changing style
    feature.setStyle({
        weight: 2,
        color: '#FFF',
        fillOpacity: 0.7
    });

    // Bring the highlighted feature to front so that the border doesn’t clash with nearby states
    // But not for IE, Opera or Edge, since they have problems doing bringToFront on mouseover
    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
        feature.bringToFront();
    }
}
      function onEachFeature(feature, layer) {
    layer.on({
        mouseover: highlightFeature, // Do what defined by the highlightFeature function on mouseover
        mouseout: resetHighlight,    // Do what defined by the resetHighlight function on mouseout
    });
}
     

        one = L.geoJson(data1, {

                  // By default, Leaflet draws geojson points as simple markers
                  // To alter this, the pointToLayer function needs to be used
                  pointToLayer: function(feature, latlng) {
                      return L.circleMarker(latlng, { // we use circle marker for the points
                          fillColor: "#c5ff33",  // fill color of the circles
                          color: '#3390ff',      // border color of the circles
                          weight: 1.5,             // circle line weight in pixels
                          fillOpacity: 0.8       // fill opacity (0-1)
                      }).on({
                         mouseover: function(e) {
                            this.openPopup();
                            this.setStyle({fillColor: 'pink'});  // fill color turns green when mouseover
                        },
                        mouseout: function(e) {
                            this.closePopup();
                            this.setStyle({fillColor: '#c5ff33'});  // fill turns original color when mouseout 
                        
                        }
                    });
                  }
              }).addTo(map);    
            
            
         two  = L.geoJson(data2, {

                  // By default, Leaflet draws geojson points as simple markers
                  // To alter this, the pointToLayer function needs to be used
                  pointToLayer: function(feature, latlng) {
                      return L.circleMarker(latlng, { // we use circle marker for the points
                          fillColor: "#33f6ff",  // fill color of the circles
                          color: '#337bff',      // border color of the circles
                          weight: 1.5,             // circle line weight in pixels
                          fillOpacity: 0.8       // fill opacity (0-1)
                      }).on({
                         mouseover: function(e) {
                            this.openPopup();
                            this.setStyle({fillColor: 'pink'});  // fill color turns green when mouseover
                        },
                        mouseout: function(e) {
                            this.closePopup();
                            this.setStyle({fillColor: '#33f6ff'});  // fill turns original color when mouseout 
                         
                        }
                    });
                  }
             });    
            
            
            
          three = L.geoJson(data3, {

                  // By default, Leaflet draws geojson points as simple markers
                  // To alter this, the pointToLayer function needs to be used
                  pointToLayer: function(feature, latlng) {
                      return L.circleMarker(latlng, { // we use circle marker for the points
                          fillColor: "#ff337b",  // fill color of the circles
                          color: '#337bff',      // border color of the circles
                          weight: 1.5,             // circle line weight in pixels
                          fillOpacity: 0.8       // fill opacity (0-1)
                      }).on({
                         mouseover: function(e) {
                            this.openPopup();
                            this.setStyle({fillColor: 'pink'});  // fill color turns green when mouseover
                        },
                        mouseout: function(e) {
                            this.closePopup();
                            this.setStyle({fillColor: '#ff337b'});  // fill turns original color when mouseout 
                        
                        }
                    });
                  }
             });   
            
            
            
        four = L.geoJson(data4, {

                  // By default, Leaflet draws geojson points as simple markers
                  // To alter this, the pointToLayer function needs to be used
                  pointToLayer: function(feature, latlng) {
                      return L.circleMarker(latlng, { // we use circle marker for the points
                          fillColor: "#ffd333",  // fill color of the circles
                          color: '#337bff',      // border color of the circles
                          weight: 1.5,             // circle line weight in pixels
                          fillOpacity: 0.8       // fill opacity (0-1)
                      }).on({
                         mouseover: function(e) {
                            this.openPopup();
                            this.setStyle({fillColor: 'pink'});  // fill color turns green when mouseover
                        },
                        mouseout: function(e) {
                            this.closePopup();
                            this.setStyle({fillColor: '#ffd333'});  // fill turns original color when mouseout 
                        
                        }
                    });
                  }
              });    
            
            



var basemaps = {
    "Light Canvas": canvas,
    "Satellite Imagery": imagery
};

var overlaymaps = {
    "1995-2001": one,
    "2002-2007": two,
    "2008-2012": three,
    "2013-2018": four  
   
};

    L.control.layers(basemaps, overlaymaps).addTo(map);
            
            
            



        </script>
   </body>
</html>
